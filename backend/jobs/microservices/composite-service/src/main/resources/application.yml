server:
  port: 7000
  error:
    include-message: always

spring:
  application:
    name: composite
  cloud:
    stream:
      bindings:
        companies-out-0:
          destination: companies
          producer:
            required-groups: auditGroup
        resumes-out-0:
          destination: resumes
          producer:
            required-groups: auditGroup
        jobs-out-0:
          destination: jobs
          producer:
            required-groups: auditGroup
      default-binder: rabbit
  rabbitmq:
    host: 127.0.0.1
    port: 5672
    username: guest
    password: guest

  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: http://localhost:9999/auth/realms/ugk

logging:
  level:
    root: info
    ru.rsh12: debug

app:
  eureka-server: localhost
  eureka-username: u
  eureka-password: p
  http-pattern: "/api/v1/composite"
  scope-companies: "SCOPE_companies"
  scope-vacancies: "SCOPE_vacancies"
  scope-resumes: "SCOPE_resumes"

eureka:
  client:
    service-url:
      defaultZone: "http://${app.eureka-username}:${app.eureka-password}@${app.eureka-server}:8761/eureka/"
    initial-instance-info-replication-interval-seconds: 5
    registry-fetch-interval-seconds: 5
  instance:
    lease-renewal-interval-in-seconds: 5
    lease-expiration-duration-in-seconds: 5
management:
  endpoints:
    web:
      exposure:
        include: "*"
  endpoint:
    health:
      show-details: always


---
spring:
  config:
    activate:
      on-profile: docker
  rabbitmq:
    host: rabbitmq

app:
  eureka-server: eureka

server:
  port: 8080